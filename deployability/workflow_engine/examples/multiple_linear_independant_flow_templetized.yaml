# Copyright (C) 2015, Wazuh Inc.
# Created by Wazuh, Inc. <info@wazuh.com>.
# This program is a free software; you can redistribute it and/or modify it under the terms of GPLv2
version: 0.1
description: This is a basic example of two linear and independant flows using templates.

variables:
  index:
    - 1
    - 2
    - 3
    - 4
    - 5
    - 6
tasks:
  - task: "A{i}"
    description: "Task A{i}"
    do:
      this: process
      with:
        path: /bin/echo
        args:
          - -n
          - "Running task A{i}"
    depends-on:
      - "B{i}"
    foreach:
      - variable: index
        as: i
  - task: "B{i}"
    description: "Task B{i}"
    do:
      this: process
      with:
        path: /bin/echo
        args:
          - -n
          - "Running task B{i}"
    depends-on:
      - "C{i}"
    foreach:
      - variable: index
        as: i
  - task: "C{i}"
    description: "Task C{i}"
    do:
      this: process
      with:
        path: /bin/echo
        args:
          - -n
          - "Running task C{i}"
    foreach:
      - variable: index
        as: i
